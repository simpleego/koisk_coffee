<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>장바구니 기능</title>
</head>
<body>
    <div class="coffee">
        <a href="detail/americano.html">
            <img src="images/americano.jfif" width="100" height="110">
        </a>
        <p id="coffeeName">아메리카노</p>
        <p>가격 : <span id="aPrice">2,000원</span></p>
        <p>수량 : <span>20개</span></p>
        <button onclick="showMenu()">주문</button>
    </div>

    <p><span id="orderCoffeeName"></span>(<span id="price"></span>원)  
       수량 : <button id="up" on>+</button>
       <span id="amount">1</span>
       <button id="down">-</button>
       금액 : <input type="text" id="total_price" value="0" readonly></p>
</body>
<script>
    // 상품명과 가격을 설정
    coffeeName = document.querySelector("#coffeeName").innerHTML
    document.querySelector("#orderCoffeeName").innerHTML = coffeeName

    coffeePrice = document.querySelector("#aPrice").innerHTML
    console.log(coffeePrice)
    coffeePrice = coffeePrice.replace(',', '');
    coffeePrice = coffeePrice.replace('원', '');
    document.querySelector("#price").innerHTML = coffeePrice



    price = document.getElementById("price").innerHTML
    amount = document.getElementById("amount").innerHTML

    up_button = document.querySelector("#up")
    up_button.addEventListener('click', () => {
        // amount 값을 증가
        amount = document.getElementById("amount").innerHTML
        // 수량은 10개 까지 가능하도록 설정하고 안내해 주세요.
        amount++
        if(amount > 10){
            amount = 10
            alert('수량은 10개 까지 가능합니다.')            
        }
        document.getElementById("amount").innerHTML = amount

        total_price = price * amount
        document.getElementById("total_price").value = total_price
    });


    down_button = document.querySelector("#down")
    down_button.addEventListener('click', () => {
   		 // amount 값을 감소
        amount = document.getElementById("amount").innerHTML
        if (amount != 1){
            amount--
        } else {
            alert('수량은 최소 1이상 입니다.')
        }

        document.getElementById("amount").innerHTML = amount

        total_price = price * amount
        document.getElementById("total_price").value = total_price
    });

    total_price = price * amount
    document.getElementById("total_price").value = total_price
    
    console.log(price*amount)


</script>
</html>